/*  ─── General Reset / Base ─────────────────────────────── */
*{box-sizing:border-box;margin:0;padding:0;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif;}
body{background:#f5f5f7;color:#1d1d1f;}
h1{font-size:2rem;margin-bottom:2rem;}
h2{font-size:1.2rem;margin-bottom:.5rem;}

/*  ─── Buttons (Cupertino-style) ────────────────────────── */
button{padding:.7rem 1.4rem;border:0;border-radius:12px;font-size:1rem;cursor:pointer;transition:background .2s;}
button.primary{background:#007aff;color:#fff;}
button.secondary{background:#e0e0e5;color:#1d1d1f;margin-left:1rem;}
button.danger{background:#ff3b30;color:#fff;margin-left:1rem;}
button.success{background:#28a745;color:#fff;margin-left:1rem;}
button.length-btn{background:#ff9500;color:#fff;margin-left:1rem;}
button:hover{filter:brightness(.95);}

/*  ─── Layout Containers ───────────────────────────────── */
.view{width:100vw;height:100vh;}
.centered{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;}
.builder{display:flex;}
.list{width:260px;text-align:left;margin-bottom:1rem;}
.list button{margin:0.3rem 0;}
.list div{display:flex;justify-content:space-between;}
.back-btn{margin-top:1rem;}
.centered>button{margin:0.5rem 0;}
.view.builder .back-btn{position:absolute;bottom:1rem;left:1rem;margin-top:0;}
.view.builder .print-btn{position:absolute;bottom:4rem;left:1rem;}
.view.builder .scale-down-btn{position:absolute;bottom:7rem;left:1rem;}
.view.builder .scale-up-btn{position:absolute;bottom:10rem;left:1rem;}
.view.builder .add-length-btn{position:absolute;bottom:13rem;left:1rem;}
.view.builder .add-diameter-btn{position:absolute;bottom:16rem;left:1rem;}

/* ─── Context Menu ─────────────────────────────────────── */
.context-menu{position:absolute;display:none;background:#fff;border:1px solid #ccc;list-style:none;padding:0;margin:0;z-index:1000;}
.context-menu-item{padding:4px 8px;cursor:pointer;white-space:nowrap;}
.context-menu-item:hover{background:#eee;}

/*  ensure older browsers respect the hidden attribute  */
[hidden]{display:none!important;}

/*  ─── Sidebar (Item Palette) ──────────────────────────── */
.sidebar{width:260px;background:#fff;border-right:1px solid #dcdce0;padding:1rem;overflow-y:auto;}
.tool-item{border:1px solid #dcdce0;border-radius:10px;padding:.6rem;margin-bottom:.6rem;background:#fefefe;cursor:grab;display:flex;align-items:center;}
.tool-item:active{cursor:grabbing;opacity:.8;}
.tool-item small{color:#6e6e73;}
.tool-item .del-btn{background:#ff3b30;color:#fff;border:0;border-radius:6px;padding:.3rem .6rem;margin-right:.5rem;cursor:pointer;}
.tool-item .del-btn:hover{filter:brightness(.95);}

/*  ─── Drop Zone (Assembly Stack) ──────────────────────── */
.dropzone{flex:1;height:100%;padding:1rem;background:#e9f5ff;display:flex;flex-direction:column;align-items:center;overflow:auto;position:relative;}

.assy-input{width:100%;margin-bottom:1rem;padding:.4rem;font-size:1.1rem;}
.new-comp-btn{width:100%;margin-bottom:1rem;}
.bha-component{border:2px solid #007aff;border-radius:8px;padding:.6rem;margin-bottom:.6rem;background:#fff;display:flex;justify-content:space-between;align-items:center;}
.dim{color:#6e6e73;font-size:.9rem;}

/*  ─── Load Page Table ───────────────────────────────── */
.load-list{width:100%;max-width:600px;}
.load-row{display:grid;grid-template-columns:1fr auto auto auto;align-items:center;gap:.5rem;margin-bottom:.5rem;}
.load-row button{margin:0;}

/*  ─── Canvas ─────────────────────────────────────────── */
#bhaCanvas{background:#fff;border:1px solid #dcdce0;margin-bottom:1rem;height:100%;aspect-ratio:210/297;width:auto;max-height:calc(100vh - 6rem);}

/*  ─── Component Preview ─────────────────────────────── */
.preview-canvas{position:absolute;top:1rem;right:1rem;width:200px;height:200px;border:1px solid #dcdce0;background:#fff;pointer-events:none;}

